import{a as Q}from"./chunk-D45GDC7R.js";import{a as N}from"./chunk-PT3L3HH7.js";import"./chunk-EY7KUA53.js";import"./chunk-PWSUUFUM.js";import{a as F,c as j}from"./chunk-KMHQCYNG.js";import"./chunk-B5O27VY2.js";import{k as R,l as E,n as k,p as T,q}from"./chunk-23VXTOXP.js";import{$a as m,Bb as a,Cb as c,Db as f,Hb as I,Lb as P,Mb as u,Vb as O,Wb as l,Xa as S,Xb as g,Yb as h,_a as o,bc as w,f as x,fc as _,gc as v,hc as M,ka as b,rb as p,ta as y,tb as d,ua as C}from"./chunk-EJSGNW64.js";function B(e,i){if(e&1){let t=I();a(0,"div",6),P("click",function(){let n=y(t).$implicit,s=u(3);return C(s.navigateToProduct(n.productCategory,n.productId))}),f(1,"img",7),a(2,"h3",8),l(3),c(),a(4,"p",9),l(5),_(6,"currency"),c(),f(7,"app-add-to-cart-button",10),c()}if(e&2){let t=i.$implicit;o(),d("src",t.productImgUrl,S)("alt",t.productName),o(2),g(t.productName),o(2),g(v(6,5,t.price)),o(2),d("product",t)}}function $(e,i){if(e&1&&(a(0,"div")(1,"div",4),p(2,B,8,7,"div",5),c()()),e&2){let t=u().ngIf;o(2),d("ngForOf",t)}}function z(e,i){if(e&1&&(a(0,"div"),p(1,$,3,1,"div",3),c()),e&2){let t=i.ngIf;u();let r=O(6);o(),d("ngIf",t.length>0)("ngIfElse",r)}}function A(e,i){if(e&1&&(a(0,"p"),l(1),c()),e&2){let t=u();o(),h('No search results found for "',t.searchQuery,'".')}}var W=(()=>{let i=class i{constructor(r,n,s){this.productService=r,this.route=n,this.router=s,this.searchQuery="",this.querySubscription=new x}ngOnInit(){this.querySubscription=this.route.queryParams.subscribe(r=>{this.searchQuery=r.q||"",this.updateSearchResults(this.searchQuery)})}updateSearchResults(r){this.searchResults$=this.productService.getProductsBySearch(r)}navigateToProduct(r,n){this.router.navigate([r.toLowerCase(),n])}ngOnDestroy(){this.querySubscription&&this.querySubscription.unsubscribe()}};i.\u0275fac=function(n){return new(n||i)(m(N),m(F),m(j))},i.\u0275cmp=b({type:i,selectors:[["app-search"]],standalone:!0,features:[w],decls:7,vars:4,consts:[["noResults",""],[1,"search-container"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"product-grid"],["class","product-box",3,"click",4,"ngFor","ngForOf"],[1,"product-box",3,"click"],[3,"src","alt"],[1,"product-title"],[1,"product-price"],[3,"product"]],template:function(n,s){n&1&&(a(0,"div",1)(1,"h2"),l(2),c(),p(3,z,2,2,"div",2),_(4,"async"),p(5,A,2,1,"ng-template",null,0,M),c()),n&2&&(o(2),h('Search Results for "',s.searchQuery,'"'),o(),d("ngIf",v(4,2,s.searchResults$)))},dependencies:[q,R,E,k,T,Q],styles:[".product-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:space-between}.product-box[_ngcontent-%COMP%]{flex:1 1 calc(20% - 1rem);background-color:#fff;border:1px solid #ddd;border-radius:.3rem;padding:2rem;text-align:center;box-shadow:0 .25rem .375rem #0000001a;transition:box-shadow .3s ease}.product-box[_ngcontent-%COMP%]:hover{box-shadow:0 .5rem .75rem #00000026}.product-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:15rem;max-width:20rem;object-fit:cover;margin-bottom:1rem}.product-title[_ngcontent-%COMP%]{font-size:1rem;margin:.5rem 0;color:#333}.product-price[_ngcontent-%COMP%]{font-size:1.1rem;color:#b12704;margin-bottom:1rem}.product-button[_ngcontent-%COMP%]{display:inline-block;padding:.5rem 1rem;background-color:#ff3e00;color:#fff;border:none;border-radius:3px;cursor:pointer;transition:background-color .3s ease}.product-button[_ngcontent-%COMP%]:hover{background-color:#d63200}"]});let e=i;return e})();export{W as SearchComponent};
