import{a as Q,b as H,c as R,d as U,e as G,f as Y,g as J,h as K}from"./chunk-KUMXFX7S.js";import{i as q,t as x}from"./chunk-32MLX6QK.js";import{a as W}from"./chunk-PWSUUFUM.js";import{c as N}from"./chunk-KMHQCYNG.js";import"./chunk-B5O27VY2.js";import{k as V,l as $,n as L,p as A,q as j}from"./chunk-23VXTOXP.js";import{$a as M,Bb as a,Cb as r,Db as _,Eb as T,Fb as D,Hb as F,Lb as f,Mb as C,Vb as z,Wb as c,Xa as k,Xb as P,Yb as O,_a as l,ba as w,bc as y,fc as s,gc as p,hc as B,ka as u,la as S,rb as g,sb as I,ta as h,tb as m,ua as b,ub as E}from"./chunk-EJSGNW64.js";var X=(()=>{let t=class t{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(n){this._vertical=q(n)}get inset(){return this._inset}set inset(n){this._inset=q(n)}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(i,o){i&2&&(I("aria-orientation",o.vertical?"vertical":"horizontal"),E("mat-divider-vertical",o.vertical)("mat-divider-horizontal",!o.vertical)("mat-divider-inset",o.inset))},inputs:{vertical:"vertical",inset:"inset"},standalone:!0,features:[y],decls:0,vars:0,template:function(i,o){},styles:[".mat-divider{display:block;margin:0;border-top-style:solid;border-top-color:var(--mat-divider-color, var(--mat-app-outline));border-top-width:var(--mat-divider-width)}.mat-divider.mat-divider-vertical{border-top:0;border-right-style:solid;border-right-color:var(--mat-divider-color, var(--mat-app-outline));border-right-width:var(--mat-divider-width)}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0});let e=t;return e})(),Z=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=S({type:t}),t.\u0275inj=w({imports:[x,x]});let e=t;return e})();function nt(e,t){if(e&1){let d=F();a(0,"div")(1,"div",9)(2,"mat-card-header")(3,"mat-card-title-group"),_(4,"img",10),a(5,"mat-card-title"),c(6),r()()(),a(7,"mat-card-content")(8,"p")(9,"b"),c(10,"Price:"),r(),c(11),s(12,"currency"),r()(),a(13,"mat-card-actions")(14,"div",11)(15,"button",12),f("click",function(){let i=h(d).$implicit,o=C(3);return b(o.decrementQuantity(i))}),c(16,"-"),r(),_(17,"input",13),a(18,"button",14),f("click",function(){let i=h(d).$implicit,o=C(3);return b(o.incrementQuantity(i,i.quantityAvailable))}),c(19,"+"),r()()()(),_(20,"mat-divider"),r()}if(e&2){let d=t.$implicit;l(4),m("src",d.imageUrl,k)("alt",d.name),l(2),P(d.name),l(5),O(" ",p(12,5,d.price),""),l(6),m("value",d.quantityInCart)}}function it(e,t){if(e&1&&(T(0),g(1,nt,21,7,"div",8),D()),e&2){let d=C().ngIf;l(),m("ngForOf",d)}}function rt(e,t){e&1&&(a(0,"div",15)(1,"p"),c(2,"Your cart is empty"),r()())}function ot(e,t){if(e&1&&(a(0,"mat-card",6),g(1,it,2,1,"ng-container",7)(2,rt,3,0,"ng-template",null,0,B),r()),e&2){let d=t.ngIf,n=z(3);l(),m("ngIf",d.length>0)("ngIfElse",n)}}var ft=(()=>{let t=class t{constructor(n,i){this.cartService=n,this.router=i,this.numItems=0,this.totalCost=0}ngOnInit(){this.cartList$=this.cartService.getCartItems(),this.cartSubscription=this.cartList$.subscribe(()=>{this.numItems=this.cartService.getCartItemCount(),this.totalCost=this.cartService.getCartTotalPrice()})}incrementQuantity(n,i){n.quantityInCart<i&&this.cartService.addToCart(n,1)}decrementQuantity(n){n.quantityAvailable>1&&this.cartService.removeFromCart(n.id)}goToCheckout(){this.router.navigate(["/checkout"])}ngOnDestroy(){this.cartSubscription&&this.cartSubscription.unsubscribe()}};t.\u0275fac=function(i){return new(i||t)(M(W),M(N))},t.\u0275cmp=u({type:t,selectors:[["app-cart"]],standalone:!0,features:[y],decls:20,vars:10,consts:[["emptyCart",""],[1,"row"],[1,"column","left"],["class","product-card",4,"ngIf"],[1,"column","right"],["mat-raised-button","",3,"click","disabled"],[1,"product-card"],[4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf"],[1,"product-info"],["mat-card-image","",1,"product-image",3,"src","alt"],[1,"qty-input"],["type","button",1,"qty-count","qty-count--minus",3,"click"],["type","number","readonly","",1,"product-qty",3,"value"],["type","button",1,"qty-count","qty-count--add",3,"click"],[1,"empty-cart-message"]],template:function(i,o){if(i&1&&(a(0,"div",1)(1,"div",2)(2,"h1"),c(3," Cart "),r(),g(4,ot,4,2,"mat-card",3),s(5,"async"),r(),a(6,"div",4)(7,"h2"),c(8,"Order Summary"),r(),a(9,"p"),c(10),r(),a(11,"p")(12,"b"),c(13,"Total: "),r(),c(14),s(15,"currency"),r(),a(16,"button",5),s(17,"async"),f("click",function(){return o.goToCheckout()}),a(18,"b"),c(19,"Check out"),r()()()()),i&2){let v;l(4),m("ngIf",p(5,4,o.cartList$)),l(6),O("Subtotal (",o.numItems," items)"),l(4),P(p(15,6,o.totalCost)),l(2),m("disabled",((v=p(17,8,o.cartList$))==null?null:v.length)===0)}},dependencies:[j,V,$,L,A,Z,X,K,Q,G,U,Y,J,H,R],styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.column[_ngcontent-%COMP%]{float:left;padding:2rem}.left[_ngcontent-%COMP%]{width:75%}.right[_ngcontent-%COMP%]{width:25%}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.product-card[_ngcontent-%COMP%]{width:100%;min-width:40rem;margin:auto;padding:1rem;box-shadow:0 4px 8px #0003}.product-image[_ngcontent-%COMP%]{height:10rem;width:auto}.qty-input[_ngcontent-%COMP%]{color:#000;background:#fff;display:flex;align-items:center;overflow:hidden;border:1px solid #bababa;margin-right:1rem;margin-left:.6rem}.qty-input[_ngcontent-%COMP%]   .product-qty[_ngcontent-%COMP%], .qty-input[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]{background:transparent;color:inherit;font-weight:700;font-size:inherit;border:none;display:inline-block;min-width:0;height:2.5rem;line-height:1}.qty-input[_ngcontent-%COMP%]   .product-qty[_ngcontent-%COMP%]:focus, .qty-input[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]:focus{outline:none}.qty-input[_ngcontent-%COMP%]   .product-qty[_ngcontent-%COMP%]{width:50px;min-width:0;display:inline-block;text-align:center;-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield}.qty-input[_ngcontent-%COMP%]   .product-qty[_ngcontent-%COMP%]::-webkit-outer-spin-button, .qty-input[_ngcontent-%COMP%]   .product-qty[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;margin:0}.qty-input[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]{padding:0;cursor:pointer;width:2.5rem;font-size:1.25em;text-indent:-100px;overflow:hidden;position:relative}.qty-input[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]:before, .qty-input[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]:after{content:"";height:2px;width:10px;position:absolute;display:block;background:#000;inset:0;margin:auto}.qty-input[_ngcontent-%COMP%]   .qty-count--minus[_ngcontent-%COMP%]{border-right:1px solid #bababa}.qty-input[_ngcontent-%COMP%]   .qty-count--add[_ngcontent-%COMP%]{border-left:1px solid #bababa}.qty-input[_ngcontent-%COMP%]   .qty-count--add[_ngcontent-%COMP%]:after{transform:rotate(90deg)}.qty-input[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]:disabled{color:#ccc;background:#f2f2f2;cursor:not-allowed;border-color:transparent}.qty-input[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]:disabled:before, .qty-input[_ngcontent-%COMP%]   .qty-count[_ngcontent-%COMP%]:disabled:after{background:#ccc}.qty-input[_ngcontent-%COMP%]{border-radius:.25rem;box-shadow:0 1em 2em -.9em rgba(#000,.7);transform:scale(1)}']});let e=t;return e})();export{ft as CartComponent};
